<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>

  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <style type="text/css">
    @import url('https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500');

body {
  overflow-x: hidden;
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
}

/* Toggle Styles */

#viewport {
  padding-left: 250px;
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
}

#content {
  width: 100%;
  position: relative;
  margin-right: 0;
}

/* Sidebar Styles */

#sidebar {
  z-index: 1000;
  position: fixed;
  left: 250px;
  width: 250px;
  height: 100%;
  margin-left: -250px;
  overflow-y: auto;
  background: #37474F;
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
}

#sidebar header {
  background-color: #263238;
  font-size: 20px;
  line-height: 52px;
  text-align: center;
}

#sidebar header a {
  color: #fff;
  display: block;
  text-decoration: none;
}

#sidebar header a:hover {
  color: #fff;
}

#sidebar .nav{
  
}

#sidebar .nav a{
  background: none;
  border-bottom: 1px solid #455A64;
  color: #CFD8DC;
  font-size: 14px;
  padding: 16px 24px;
}

#sidebar .nav a:hover{
  background: none;
  color: #ECEFF1;
}

#sidebar .nav a i{
  margin-right: 16px;
}

  </style>
  {% load static %}
</head>
 {% load static %}
<body>

<div id="viewport">
  <!-- Sidebar -->
  <div id="sidebar">
    <header>
      <a href="/">Attendance System</a>
    </header>
    <ul class="nav">
      <li>
        <a href="adminpanel">
          <i class="zmdi zmdi-view-dashboard"></i>Generate QR Code Student ID
        </a>
      </li>
      <li>
        <a href="editdetails">
          <i class="zmdi zmdi-link"></i>Edit Student Details
        </a>
      </li>
      <li>
        <a href="viewstudenthistory">
          <i class="zmdi zmdi-widgets"></i>View History and Analytics
        </a>
      </li>
    </ul>
  </div>
  <!-- Content -->
  <div id="content">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="#"><i class="zmdi zmdi-notifications text-danger"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container-fluid" style="text-align: center;">
      <h3>
        
        Admin Panel

      </h3>
      <form method="POST">
        {% csrf_token %}
        <div style="margin: 40px;" class="form-group">
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputrollno" placeholder="Enter Student Roll No" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputname" placeholder="Enter Student Name" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputaddress" placeholder="Enter Student Address" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputbranch" placeholder="Enter Student Branch" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputcourse" placeholder="Enter Student Course" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputsemester" placeholder="Enter Student Semester" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputyear" placeholder="Enter Student Year" required>
          <input style="margin-top: 20px;" type="text" class="form-control" name="inputnumber" placeholder="Enter Parents number" required>
         
<div style="margin: 20px;">

  <span>Expire time</span>
  <input type="time" name="expire_time" id="expiree" required>
</div>
          <button onclick="getLocation()">Detect Location</button>
          <p id="demo" ></p>

          <br><br>

          <button style="padding: 10px; border-radius: 15px;" class="btn-primary" type="submit">Generate Id</button>
          
        </div>
      </form>
      <div>
        <form method="POST">
          {% csrf_token %}
        
          <!--<p name="qrpic">{{ pic|safe }}</p>-->
          <div id='DivIdToPrint'>
              <p name="qrpic">{{ pic|safe }}</p>
          </div>
          <input style="padding: 10px; border-radius: 15px;" class="btn-primary" type='button' id='btn' value='Download QR' onclick='printDiv();'>
      </form>
      </div>
      <br>
      <br>

    </div>
  </div>
     
<script type="text/javascript">

const x = document.getElementById("demo");

  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition);
    } else {
      x.innerHTML = "Geolocation is not supported by this browser.";
    }
  }

  function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;
  }

  window.onload = function() {
    getLocation();
  }

  function printDiv() 
  {

    var divToPrint=document.getElementById('DivIdToPrint');

    var newWin=window.open('','Print-Window');

    newWin.document.open();

    newWin.document.write('<html><body onload="window.print()">'+divToPrint.innerHTML+'</body></html>');

    newWin.document.close();

    setTimeout(function(){newWin.close();},10);

  }
</script>
      

<script type="text/javascript">
  
  {% if Flag %}
      swal("{{ msg }}");     
  {% else %}
      None
  {% endif %}


</script>

<style type="text/css">
  .blue-btn a{
  color: white;
  text-decoration:none;
  text-align: center;
  display:block; /* important */
}

.blue-btn, .first-link{
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -ms-transition: 0.3s;
  -o-transition: 0.3s;
  transition: 0.3s;     
}


.blue-btn{
  height: 64px;
  font: normal normal 700 1em/4em Arial,sans-serif;
  overflow: hidden;
  width: 200px;
  background-color: #3b5998;
  border-radius: 20px;
}

.blue-btn:hover{
   background-color: #003D60;
  
}

.blue-btn a:hover{
  text-decoration: none;
}

.first-link{
  margin-top: 0em;   
}

.blue-btn:hover .first-link{
  margin-top: -4em;
}
</style>

</body>
</html>